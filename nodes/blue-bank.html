<script type="text/x-red" data-template-name="blue-bank">
    <div class="form-row">
        <label for="node-input-method" style="width: 130px;"><i class="fa fa-tasks"></i> Method</label>
        <select type="text" id="node-input-method" style="width:70%;">
        <option value="getAccount">Get Account</option>
        <option value="getAccounts">Get Accounts</option>
        <option value="getTransactions">Get Transactions</option>
        <option value="getCustomer">Get Customer</option>
        <option value="getCustomers">Get Customers</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-account" style="width: 130px;"><i class="icon-tag"></i> Account ID</label>
        <input id="node-input-account" type="text">
    </div>
    <div class="form-row">
        <label for="node-input-customer" style="width: 130px;"><i class="icon-tag"></i> Customer ID</label>
        <input id="node-input-customer" type="text">
    </div>
    <div class="form-row">
        <label for="node-input-key" style="width: 130px;"><i class="icon-tag"></i> Subscription Key</label>
        <input id="node-input-key" type="text">
    </div>
    <div class="form-row">
        <label for="node-input-auth" style="width: 130px;"><i class="icon-tag"></i> Authorization</label>
        <input id="node-input-auth" type="text">
    </div>
    <div class="form-row">
        <label for="node-input-name" style="width: 130px;"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
</script>

<script type="text/x-red" data-help-name="blue-bank">
    <p>
        Exposes the <a href="https://bluebank.portal.azure-api.net">#BankOfApis</a> Blue Bank APIs.
    </p>
    <p>
        These options are available in the node:
    </p>
    <ul>
        <li>
            <code>Method</code> is the API call to use. Only <code>Get Accounts</code> is currently available. This performs a <code>GET</code> request to <code>/accounts/{id}</code>
        </li>
        <li>
            <code>ID</code> is the user ID of the account you want to get.
        </li>
        <li>
            <code>Subscription Key</code> is the subscription key for the Blue Bank API v0.7 found in your <a href="https://bluebank.portal.azure-api.net/developer">profile</a>.
        </li>
        <li>
            <code>Authorization</code> is the Bearer Token used for authenticating requests. You can find it <a href="https://bb-customers.azurewebsites.net/">here</a>. <strong>This token is used for testing purposes and expires.</strong>
        </li>
        <li>
            <code>Name</code> is the custom name of the node.
        </li>
    </ul>
    <p>
        The result will be stored in <code>msg.result</code>.
    </p>
</script>

<script type="text/javascript">
    RED.nodes.registerType('blue-bank',{
        category: 'function',
        color: '#79abd6',
        defaults: {
            name: {value:""},
            customer: {value:"",required:true},
            account: {value:"",required:true},
            key: {value:"",required:true},
            auth: {value:"",required:true},
            method: {value:""}
        },
        inputs:1,
        outputs:1,
        icon: "white-globe.png",
        label: function() {
            return this.name||"blue bank";
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        }
    });
</script>
